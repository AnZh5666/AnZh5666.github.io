"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}document.addEventListener("DOMContentLoaded",function(){var n,r,c,i,o,a,e,s,l,t,u,d,m,_,p,y,h,v,f,g,b,L,S;function E(e,t){e.classList.remove("active"),t.classList.remove("active"),t.style.height=""}function q(e){var t=e.target;d.classList.add("open"),document.addEventListener("keydown",h),_.textContent=m.textContent,y.value=m.textContent,p.textContent=t.dataset.buttonBuy}function A(){d.classList.remove("open"),document.removeEventListener("keydown",h)}function C(e){e.forEach(function(e){b.append(function(e){var t=e.photo,n=e.name,r=e.price,c=document.createElement("li");return c.innerHTML='\n          <article class="cross-sell__item">\n\t\t\t\t\t\t\t<img class="cross-sell__image" src="'.concat(t,'" alt="">\n\t\t\t\t\t\t\t<h3 class="cross-sell__title">').concat(n,'</h3>\n\t\t\t\t\t\t\t<p class="cross-sell__price">').concat(r,'₽</p>\n\t\t\t\t\t\t\t<div class="button button_buy cross-sell__button">Купить</div>\n\t\t\t\t\t\t</article>\n          '),c}(e))})}n=document.querySelectorAll(".card-detail__change"),r=document.querySelector(".card-details__title"),c=document.querySelector(".card__image_item"),i=document.querySelector(".card-details__price"),o=document.querySelector(".description__memory"),a=[{name:"Смартфон Apple iPhone 12 Pro 128GB Graphite",img:"img/iPhone-graphite.png",price:99990,memory:128},{name:"Смартфон Apple iPhone 12 Pro 256GB Silver",img:"img/iPhone-silver.png",price:12e4,memory:256},{name:"Смартфон Apple iPhone 12 Pro 128GB Pacific Blue",img:"img/iPhone-blue.png",price:98699,memory:128}],n.forEach(function(e,t){e.addEventListener("click",function(){e.classList.contains("active")||(n.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active"),r.textContent=a[t].name,c.src=a[t].img,c.alt=a[t].name,i.textContent=a[t].price+"₽",o.textContent="Встроенная память (ROM) ".concat(a[t].memory," Гб"))})}),e=document.querySelector(".characteristics__list"),s=document.querySelectorAll(".characteristics__item"),l=function(t,n){s.forEach(function(e){e.children[0]!==t&&e.children[1]!==n&&E(e.children[0],e.children[1])})},e.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("characteristics__title")){var n=t.closest(".characteristics__item").querySelector(".characteristics__description");n.classList.contains("active")?E(t,n):function(e,t){l(e,t),t.style.height="".concat(t.scrollHeight,"px"),e.classList.add("active"),t.classList.add("active")}(t,n)}}),document.body.addEventListener("click",function(e){e.target.closest(".characteristics__list")||l()}),t=document.querySelector(".card-details__button_buy"),u=document.querySelector(".card-details__button_delivery"),d=document.querySelector(".modal"),m=document.querySelector(".card-details__title"),_=document.querySelector(".modal__title"),p=d.querySelector(".modal_subtitle"),y=d.querySelector(".modal__title-submit"),h=function(e){"Escape"===e.code&&A()},d.addEventListener("click",function(e){var t=e.target;!t.classList.contains("modal__close")&&t!==d||A()}),t.addEventListener("click",q),u.addEventListener("click",q),b=document.querySelector(".cross-sell__list"),L=[],S=null,document.querySelector(".cross-sell__add").addEventListener("click",function(){S(L.splice(0,4))}),v="cross-sell-dbase/dbase.json",f=function(e){S=function(e,t){var n=0;return function(){if(n!==t)return n++,e.apply(void 0,arguments)}}(C,parseInt(e.length/4)+1),L.push.apply(L,_toConsumableArray(function(e){return e.sort(function(){return Math.random()-.5})}(e)));var t=L.splice(0,4);S(t)},(g=new XMLHttpRequest).open("GET",v),g.send(),g.addEventListener("readystatechange",function(){if(4===g.readyState)if(200===g.status){var e=JSON.parse(g.response);f(e)}else console.error(new Error("Ошибка "+g.status))}),amenu(".header__menu",".header-menu__list",".header-menu__item",".header-menu__burger")});
//# sourceMappingURL=main.min.js.map
