{"version":3,"sources":["main.js"],"names":["document","addEventListener","cardDetailChange","cardDetailsTitle","cardImageItem","cardDetailsPrice","data","characteristicsList","characteristicsItem","closeAllDrops","target","modal","modalTitle","modalSubtitle","modalTitleSubmit","escapeHandler","close","button","dropDown","open","classList","style","height","openModal","event","cardDetailsButtonBuy","cardDetailsButtonDelivery","querySelector","textContent","buttonBuy","querySelectorAll","name","img","price","memory","remove","i","btn","contains","forEach","add","src","alt","diactive","elem","children","description","concat","scrollHeight","accordion","closest","parent","code","closeModal","removeEventListener"],"mappings":"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","file":"main.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    'use strict';  /* Запускает код в строгом режиме, т.е. не позволяет \r\n    запустить с ошибками и не объявленными переменными */  \r\n\r\n        /* ПИШЕМ ВТОРОЙ ВАРИАНТ ТАБОВ */\r\n    const tabs = () => {\r\n        /* Получем переменные по классам */\r\n        const cardDetailChange = document.querySelectorAll('.card-detail__change');\r\n        const cardDetailsTitle = document.querySelector('.card-details__title');\r\n        const cardImageItem = document.querySelector('.card__image_item');\r\n        const cardDetailsPrice = document.querySelector('.card-details__price');\r\n        const descriptionMemory = document.querySelector('.description__memory');\r\n        /* в переменных выбираем все карточки и один заголовок, одно описание, одну картинку и одну цену */\r\n        /* -- -- */\r\n\r\n        /* Создаем несколько массивов каждый из которых будет относится к одному из модели телефонов */\r\n        /* Создаем массив \"DATA\" который будет содержать все наши телефоны */\r\n        const data = [\r\n            {\r\n              name: 'Смартфон Apple iPhone 12 Pro 128GB Graphite',\r\n              img: '/img/iPhone-graphite.png',\r\n              price: 99990,  \r\n              memory: 128  \r\n            },\r\n            {\r\n              name: 'Смартфон Apple iPhone 12 Pro 256GB Silver',\r\n              img: '/img/iPhone-silver.png',\r\n              price: 120000,   \r\n              memory: 256\r\n            },\r\n            {\r\n               name: 'Смартфон Apple iPhone 12 Pro 128GB Pacific Blue',\r\n               img: '/img/iPhone-blue.png',\r\n               price: 98699,\r\n               memory: 128\r\n            }\r\n        ];\r\n        \r\n        /* Пишем функцию которая будет перебирать кнопки и убирать у них active */\r\n        const diactive = () => {\r\n          cardDetailChange.forEach(btn => btn.classList.remove('active'))\r\n        };\r\n      \r\n        /* После массива пишем функцию for each чтобы его перебирать */ \r\n      cardDetailChange.forEach((btn, i) => {\r\n        btn.addEventListener('click', () => {\r\n            if(!btn.classList.contains('active')) {\r\n               diactive();\r\n                btn.classList.add('active');\r\n                cardDetailsTitle.textContent = data[i].name;\r\n                cardImageItem.src = data[i].img;\r\n                cardImageItem.alt = data[i].name; \r\n                cardDetailsPrice.textContent = data[i].price + '₽';\r\n                descriptionMemory.textContent = `Встроенная память (ROM) ${data[i].memory} Гб`;\r\n            }\r\n        });\r\n      })\r\n    \r\n    };\r\n    /* пишем функцию аккордиона */\r\n    const accordion = () => {\r\n      const characteristicsList = document.querySelector('.characteristics__list');\r\n      const characteristicsItem = document.querySelectorAll('.characteristics__item');\r\n\r\n        const open = (button, dropDown) => {\r\n          closeAllDrops (button, dropDown);\r\n          dropDown.style.height = `${dropDown.scrollHeight}px`;\r\n          button.classList.add('active');\r\n          dropDown.classList.add('active');\r\n        };\r\n        const close = (button, dropDown) => {\r\n          button.classList.remove('active');\r\n          dropDown.classList.remove('active');\r\n          dropDown.style.height = '';\r\n        };\r\n        const closeAllDrops = (button, dropDown) => {\r\n          characteristicsItem.forEach((elem) => {\r\n            if(elem.children[0] !== button && elem.children[1] !==dropDown) {\r\n              close(elem.children[0], elem.children[1]);\r\n            }\r\n          })\r\n        }\r\n        \r\n        characteristicsList.addEventListener('click', (event) => {\r\n           const target = event.target;\r\n           if(target.classList.contains('characteristics__title')) {\r\n              \r\n            const parent = target.closest('.characteristics__item');\r\n            const description = parent.querySelector('.characteristics__description');\r\n             \r\n             description.classList.contains('active') ? \r\n               close(target, description) : \r\n                  open(target, description);\r\n            }\r\n        });\r\n        document.body.addEventListener('click', (event) => {\r\n          const target = event.target;\r\n          if (!target.closest('.characteristics__list')) {\r\n            closeAllDrops();\r\n          }\r\n        })\r\n    }; \r\n    /* Пишем функцию чтобы при нажатии на кнопку открывалось модальное окно */\r\n      const modal = () => {\r\n        const cardDetailsButtonBuy = document.querySelector('.card-details__button_buy');\r\n        const cardDetailsButtonDelivery = document.querySelector('.card-details__button_delivery');\r\n        const modal = document.querySelector('.modal');\r\n        const cardDetailsTitle = document.querySelector('.card-details__title');\r\n        const modalTitle = document.querySelector('.modal__title');\r\n        const modalSubtitle = modal.querySelector('.modal_subtitle');\r\n        const modalTitleSubmit = modal.querySelector('.modal__title-submit');\r\n         \r\n        const openModal = (event) => {\r\n          const target =event.target;\r\n          modal.classList.add('open');\r\n          document.addEventListener('keydown', escapeHandler);\r\n          /* чтобы при нажатии на кнопку в модальном окне менялось название телефона */\r\n          modalTitle.textContent = cardDetailsTitle.textContent;\r\n          modalTitleSubmit.value = cardDetailsTitle.textContent;\r\n          modalSubtitle.textContent = target.dataset.buttonBuy;\r\n        };\r\n        const closeModal = () => {\r\n          modal.classList.remove('open');\r\n          document.removeEventListener('keydown', escapeHandler);/* при нажатии на Esc закрывается модальное окно */\r\n        };\r\n        const escapeHandler = (event) => {\r\n          if(event.code === 'Escape') {\r\n            closeModal();\r\n          };\r\n        };\r\n       \r\n        /* чтобы при нажатии на крестик в модальном окне оно закрывалось */\r\n        modal.addEventListener('click', (event) => {\r\n          const target = event.target;\r\n          if(target.classList.contains('modal__close') || target === modal) {\r\n            closeModal();\r\n          }\r\n        });\r\n        cardDetailsButtonBuy.addEventListener('click', openModal);\r\n        cardDetailsButtonDelivery.addEventListener('click', openModal);\r\n        \r\n      }\r\n       tabs();\r\n       accordion(); \r\n       modal();\r\n       \r\n\r\n});"]}