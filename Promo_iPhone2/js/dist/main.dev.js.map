{"version":3,"sources":["main.js"],"names":["document","addEventListener","tabs","cardDetailChange","querySelectorAll","cardDetailsTitle","querySelector","cardImageItem","cardDetailsPrice","descriptionMemory","data","name","img","price","memory","diactive","forEach","btn","classList","remove","i","contains","add","textContent","src","alt","accordion","characteristicsList","characteristicsItem","open","button","dropDown","closeAllDrops","style","height","scrollHeight","close","elem","children","event","target","parent","closest","description","body","modal","cardDetailsButtonBuy","cardDetailsButtonDelivery","modalTitle","modalSubtitle","modalTitleSubmit","openModal","escapeHandler","value","dataset","buttonBuy","closeModal","removeEventListener","code"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    'use strict';  /* Запускает код в строгом режиме, т.е. не позволяет \r\n    запустить с ошибками и не объявленными переменными */  \r\n\r\n        /* ПИШЕМ ВТОРОЙ ВАРИАНТ ТАБОВ */\r\n    const tabs = () => {\r\n        /* Получем переменные по классам */\r\n        const cardDetailChange = document.querySelectorAll('.card-detail__change');\r\n        const cardDetailsTitle = document.querySelector('.card-details__title');\r\n        const cardImageItem = document.querySelector('.card__image_item');\r\n        const cardDetailsPrice = document.querySelector('.card-details__price');\r\n        const descriptionMemory = document.querySelector('.description__memory');\r\n        /* в переменных выбираем все карточки и один заголовок, одно описание, одну картинку и одну цену */\r\n        /* -- -- */\r\n\r\n        /* Создаем несколько массивов каждый из которых будет относится к одному из модели телефонов */\r\n        /* Создаем массив \"DATA\" который будет содержать все наши телефоны */\r\n        const data = [\r\n            {\r\n              name: 'Смартфон Apple iPhone 12 Pro 128GB Graphite',\r\n              img: '/img/iPhone-graphite.png',\r\n              price: 99990,  \r\n              memory: 128  \r\n            },\r\n            {\r\n              name: 'Смартфон Apple iPhone 12 Pro 256GB Silver',\r\n              img: '/img/iPhone-silver.png',\r\n              price: 120000,   \r\n              memory: 256\r\n            },\r\n            {\r\n               name: 'Смартфон Apple iPhone 12 Pro 128GB Pacific Blue',\r\n               img: '/img/iPhone-blue.png',\r\n               price: 98699,\r\n               memory: 128\r\n            }\r\n        ];\r\n        \r\n        /* Пишем функцию которая будет перебирать кнопки и убирать у них active */\r\n        const diactive = () => {\r\n          cardDetailChange.forEach(btn => btn.classList.remove('active'))\r\n        };\r\n      \r\n        /* После массива пишем функцию for each чтобы его перебирать */ \r\n      cardDetailChange.forEach((btn, i) => {\r\n        btn.addEventListener('click', () => {\r\n            if(!btn.classList.contains('active')) {\r\n               diactive();\r\n                btn.classList.add('active');\r\n                cardDetailsTitle.textContent = data[i].name;\r\n                cardImageItem.src = data[i].img;\r\n                cardImageItem.alt = data[i].name; \r\n                cardDetailsPrice.textContent = data[i].price + '₽';\r\n                descriptionMemory.textContent = `Встроенная память (ROM) ${data[i].memory} Гб`;\r\n            }\r\n        });\r\n      })\r\n    \r\n    };\r\n    /* пишем функцию аккордиона */\r\n    const accordion = () => {\r\n      const characteristicsList = document.querySelector('.characteristics__list');\r\n      const characteristicsItem = document.querySelectorAll('.characteristics__item');\r\n\r\n        const open = (button, dropDown) => {\r\n          closeAllDrops (button, dropDown);\r\n          dropDown.style.height = `${dropDown.scrollHeight}px`;\r\n          button.classList.add('active');\r\n          dropDown.classList.add('active');\r\n        };\r\n        const close = (button, dropDown) => {\r\n          button.classList.remove('active');\r\n          dropDown.classList.remove('active');\r\n          dropDown.style.height = '';\r\n        };\r\n        const closeAllDrops = (button, dropDown) => {\r\n          characteristicsItem.forEach((elem) => {\r\n            if(elem.children[0] !== button && elem.children[1] !==dropDown) {\r\n              close(elem.children[0], elem.children[1]);\r\n            }\r\n          })\r\n        }\r\n        \r\n        characteristicsList.addEventListener('click', (event) => {\r\n           const target = event.target;\r\n           if(target.classList.contains('characteristics__title')) {\r\n              \r\n            const parent = target.closest('.characteristics__item');\r\n            const description = parent.querySelector('.characteristics__description');\r\n             \r\n             description.classList.contains('active') ? \r\n               close(target, description) : \r\n                  open(target, description);\r\n            }\r\n        });\r\n        document.body.addEventListener('click', (event) => {\r\n          const target = event.target;\r\n          if (!target.closest('.characteristics__list')) {\r\n            closeAllDrops();\r\n          }\r\n        })\r\n    }; \r\n    /* Пишем функцию чтобы при нажатии на кнопку открывалось модальное окно */\r\n      const modal = () => {\r\n        const cardDetailsButtonBuy = document.querySelector('.card-details__button_buy');\r\n        const cardDetailsButtonDelivery = document.querySelector('.card-details__button_delivery');\r\n        const modal = document.querySelector('.modal');\r\n        const cardDetailsTitle = document.querySelector('.card-details__title');\r\n        const modalTitle = document.querySelector('.modal__title');\r\n        const modalSubtitle = modal.querySelector('.modal_subtitle');\r\n        const modalTitleSubmit = modal.querySelector('.modal__title-submit');\r\n         \r\n        const openModal = (event) => {\r\n          const target =event.target;\r\n          modal.classList.add('open');\r\n          document.addEventListener('keydown', escapeHandler);\r\n          /* чтобы при нажатии на кнопку в модальном окне менялось название телефона */\r\n          modalTitle.textContent = cardDetailsTitle.textContent;\r\n          modalTitleSubmit.value = cardDetailsTitle.textContent;\r\n          modalSubtitle.textContent = target.dataset.buttonBuy;\r\n        };\r\n        const closeModal = () => {\r\n          modal.classList.remove('open');\r\n          document.removeEventListener('keydown', escapeHandler);/* при нажатии на Esc закрывается модальное окно */\r\n        };\r\n        const escapeHandler = (event) => {\r\n          if(event.code === 'Escape') {\r\n            closeModal();\r\n          };\r\n        };\r\n       \r\n        /* чтобы при нажатии на крестик в модальном окне оно закрывалось */\r\n        modal.addEventListener('click', (event) => {\r\n          const target = event.target;\r\n          if(target.classList.contains('modal__close') || target === modal) {\r\n            closeModal();\r\n          }\r\n        });\r\n        cardDetailsButtonBuy.addEventListener('click', openModal);\r\n        cardDetailsButtonDelivery.addEventListener('click', openModal);\r\n        \r\n      }\r\n       tabs();\r\n       accordion(); \r\n       modal();\r\n       \r\n\r\n});"],"file":"main.dev.js"}