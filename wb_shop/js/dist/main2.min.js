"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var mySwiper=new Swiper(".swiper-container",{loop:!0,navigation:{nextEl:".slider-button-next",prevEl:".slider-button-prev"}}),buttonCart=document.querySelector(".button-cart"),modalCart=document.querySelector("#modal-cart"),modalCloseBtn=document.querySelector(".modal-close"),openModal=function(){modalCart.classList.add("show")};buttonCart.addEventListener("click",openModal);var closeModal=function(){modalCart.classList.remove("show")};modalCart.addEventListener("click",function(t){var e=t.target;(e.classList.contains("overlay")||e.classList.contains("modal-close"))&&closeModal()});var escapeHandler=function(t){"Escape"===t.code&&closeModal()};document.addEventListener("keydown",escapeHandler);var scrollLinks=document.querySelectorAll("a.scroll-link"),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_loop=function(){var r=_step.value;r.addEventListener("click",function(t){t.preventDefault();var e=r.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})})},_iterator=scrollLinks[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(t){_didIteratorError=!0,_iteratorError=t}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var btnMore=document.querySelector("a.more"),navLink=document.querySelectorAll(".navigation-link:not(.show-all"),longGoodsList=document.querySelector(".long-goods-list"),getGoods=function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(fetch("db/db.json"));case 2:if((e=t.sent).ok){t.next=5;break}throw"Ошибка "+e.status;case 5:return t.abrupt("return",e.json());case 6:case"end":return t.stop()}})},createCard=function(t){var e=t.label,r=t.name,o=t.img,n=t.description,a=t.id,c=t.price,l=document.createElement("div");return l.className="col-lg-3 col-sm-6",l.innerHTML='\n\t\t<div class="goods-card">\n\t\t\t'.concat(e?'<span class="label">'.concat(e,"</span>"):"",'\n\t\t\t\n\t\t\t<img src="db/').concat(o,'" alt="image: Hoodie" class="goods-image">\n\t\t\t<h3 class="goods-title">').concat(r,'</h3>\n\t\t\t<p class="goods-description">').concat(n,'</p>\n\t\t\t<button class="button goods-card-btn add-to-cart" data-id=').concat(a,'>\n\t\t\t\t<span class="button-price">$').concat(c,"</span>\n\t\t\t</button>\n\t\t</div>\n\t"),l},renderCards=function(t){longGoodsList.textContent="";var e=t.map(createCard);longGoodsList.append.apply(longGoodsList,_toConsumableArray(e)),document.body.classList.add("show-goods")};btnMore.addEventListener("click",function(t){t.preventDefault(),getGoods().then(renderCards)}),btnMore.addEventListener("click",function(){var t=btnMore.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})});var filterCards=function(e,r){getGoods().then(function(t){return t.filter(function(t){return t[e]===r})}).then(renderCards)};navLink.forEach(function(o){o.addEventListener("click",function(t){t.preventDefault();var e=o.dataset.field,r=o.textContent;filterCards(e,r)})});var showAll=document.querySelectorAll(".show-all"),viewAll=function(t){t.preventDefault(),getGoods().then(renderCards)};showAll.forEach(function(t){t.addEventListener("click",viewAll)});var showAccessories=document.querySelectorAll(".show-accessories"),showClothing=document.querySelectorAll(".show-clothing");showClothing.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),filterCards("category","Clothing")})}),showAccessories.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),filterCards("category","Accessories")})});
//# sourceMappingURL=main2.min.js.map
